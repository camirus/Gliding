<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
        <script src="https://api.tiles.mapbox.com/mapbox.js/plugins/turf/v2.0.0/turf.min.js" type="text/javascript"></script>
        <script src="https://maps.googleapis.com/maps/api/js" type="text/javascript"></script>
        <meta charset="utf-8">
        <title>Flight map</title>
        <style>
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }
            #map {
                height: 100%;
            }
        </style>
    </head>
    <body>
        <div id="map"></div>
             <script>
        
            // This example creates a 2-pixel-wide red polyline showing the path of William
            // Kingsford Smith's first trans-Pacific flight between Oakland, CA, and
            // Brisbane, Australia.
        
                    function initMap() {
                        var map = new google.maps.Map(document.getElementById('map'), {
                            zoom: 12,
                            center: {lat: 46.919, lng: 22.849},
                            mapTypeId: google.maps.MapTypeId.TRAFFIC
                        });
        
                        var flightPlanCoordinates = [
                            '%points%'
                        ];
                        var flightPath = new google.maps.Polyline({
                            path: flightPlanCoordinates,
                            geodesic: true,
                            strokeColor: '#34759F',
                            strokeOpacity: 1.0,
                            strokeWeight: 3
                        });
        
                        flightPath.setMap(map);
                    }
        
                </script>
                <script async defer
                src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD_7JWlKDUkKo_h9ixortDlcjXT2vnw9do&callback=initMap"></script>

<!--        <script>
            var map;
            function initialize() {
//                map = new google.maps.Map(document.getElementById('map'), {
//                    zoom: 4,
//                    center: {lat: 37.8, lng: -96}
//                });

                map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 12,
                    center: {lat: 46.919, lng: 22.849}
                });

                var line = turf.linestring([
                    '%points%'
                ], {color: 'black'});
                var curved = turf.bezier(line, 40000, 1);
                curved.properties = {color: 'red'};

                map.data.setStyle(function (feature) {
                    return {strokeWeight: 2, strokeColor: feature.getProperty('color')};
                });
                map.data.addGeoJson(line);
                map.data.addGeoJson(curved);
            }

            google.maps.event.addDomListener(window, 'load', initialize);
        </script>-->
    </body>
</html>